<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script type="text/javascript">
				function getName() {
					let p = new Promise(function(resolve, reject) {
						setTimeout(function(){
							let x = Math.random();
							console.log(x);
							if(x>=0.5) {
								//转为成功状态
								resolve("成功了");	
							}else {
								//转为失败状态
								reject("失败了");
							}
						}, 1000);
					})
					return p;
				}
				function test() {
					let p = getName();
					p.then(function(data){//监听成功状态
						console.log("成功", data);
					}).catch(function(e){//监听失败状态
						console.log("失败", e);
					}).finally(function(){
						console.log("end...");
					});
				}
				test();
			</script>
		</script>
	</head>
	<body>
	</body>
</html>
