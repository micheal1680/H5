<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>正则表达式</title>
</head>
<body>
    <div>

    </div>
    <button>开始播放</button>
    <script>
        var div = document.querySelector('div');
        document.querySelector('button').onclick = function(){
            //发起ajax请求到服务器获取歌词
            {var lrc = `[00:00.61]SING女团 - 花枪
        [00:01.27]作词：张畅、侯智傲、刘家泽
        [00:01.73]作曲：罗洋、王灏
        [00:01.98]编曲：罗洋（卡其漠）、王灏
        [00:02.39]制作人：刘家泽
        [00:02.64]配唱制作人：袁文睿、王灏
        [00:03.00]古筝：紫格哈哈
        [00:03.25]吉他：刘鑫
        [00:03.40]二胡：二胡妹
        [00:03.71]制作统筹：冯昌榆
        [00:03.96]制作公司：匠心音乐
        [00:06.53]Lrc歌词网www.90lrc.cn
        [00:26.35]蒋申：
        [00:26.91]戏台粉墨的装潢
        [00:28.57]渲染寂寞的形状
        [00:29.99]蒋申、林慧：
        [00:30.35]是谁画华彩缤纷的妆
        [00:32.37]安静的盛放
        [00:33.36]吴瑶：
        [00:33.63]汗水让眼睛发烫
        [00:35.32]不甘混沌故事捆绑
        [00:36.74]吴瑶、许诗茵：
        [00:37.15]想逃离世俗的迷惘
        [00:38.91]仰起头在回望
        [00:40.00]秦瑜：
        [00:40.49]生旦净末丑的容妆 梨园风光
        [00:47.22]唱念坐打的身量 孤芳自赏
        [00:53.17]合：
        [00:53.34]耍花儿枪 如影如幻如初光
        [00:56.20]视线欲盖弥彰被迷惑方向
        [00:59.84]火焰释放
        [01:01.25]点燃所有瞩目的目光
        [01:03.51]天涯路有我独闯
        [01:06.69]耍花儿枪 恭候谁盛装登场
        [01:09.56]身影如惊鸿曲声宛转悠扬
        [01:13.32]酣畅淋漓后散场
        [01:15.55]能忘掉忧伤
        [01:40.85]边丽、秦瑜：
        [01:46.94]步伐有力的铿锵
        [01:48.53]看宿命百花绽放
        [01:50.13]水袖起落神色不寻常
        [01:52.25]惊叹中启程
        [01:53.37]林慧、陈丽：
        [01:53.97]星光把回忆点亮
        [01:55.14]遮住了是谁的慌张
        [01:56.67]林慧、陈丽、许诗茵：
        [01:57.13]回眸亮相待惊艳四方
        [01:58.86]帷幕升映光芒
        [02:00.03]秦瑜：
        [02:00.45]生旦净末丑的容妆 梨园风光
        [02:07.16]唱念坐打的身量 孤芳自赏
        [02:12.97]合：
        [02:13.37]耍花儿枪 如影如幻如初光
        [02:16.22]视线欲盖弥彰被迷惑方向
        [02:19.85]火焰释放
        [02:21.27]点燃所有瞩目的目光
        [02:23.51]天涯路有我独闯
        [02:26.72]耍花儿枪 恭候谁盛装登场
        [02:29.54]身影如惊鸿曲声宛转悠扬
        [02:33.31]酣畅淋漓后散场
        [02:35.68]能忘掉忧伤
        [02:36.55]蒋申：
        [02:36.95]耍花儿枪 如影如幻如初光
        [02:39.63]视线欲盖弥彰被迷惑方向
        [02:42.74]蒋申、许诗茵：
        [02:43.35]火焰释放
        [02:44.66]点燃所有瞩目的目光
        [02:46.92]天涯路有我独闯
        [02:49.32]合：
        [02:50.03]耍花儿枪
        [02:51.15]恭候谁盛装登场
        [02:52.85]身影如惊鸿曲声宛转悠扬
        [02:56.65]酣畅淋漓后散场
        [02:58.87]能忘掉忧伤`;}
            //   分隔成数组
            var lrcArr = lrc.split("\n");
            // 循环的方式提取每一句歌词的播放时间和歌词内容
            // 定义一个正则表达式提取时间和歌词
            var lrcReg = /\[(\d{2}):(\d{2})\.(\d{2})\](.*)/;
            lrcArr.forEach(function(value){
            var r = lrcReg.exec(value);
                // 使用定时器显示歌词到页面
                setTimeout(function(){
                    div.innerHTML = r[4];
                }, r[1]*60*1000 + r[2]*1000 + r[3]*10);
            });
        }
        // [ti:花枪]
        // [ar:SING女团]
        // [al:花枪]
        // [by:junbo]
    </script>
</body>

</html>