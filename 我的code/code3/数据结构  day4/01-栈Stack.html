<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>栈：后进先出</title>
</head>

<body>
    <botton id="add" onclick="push()">添加</botton>
    <botton id="pop" onclick="pop()">删除</botton>
    <botton id="clear" onclick="clear()">清空</botton>
    <script>
        {
            class Stack {
                constructor() {
                    this.items = []
                }
                push(item) {
                    this.items.push(item)
                }
                pop() {
                    return this.items.pop()   //pop()函数是有返回值的函数，因此不仅可以执行这个函数，还有return
                }
                peek() {    //Top—返回栈最上方的元素，并不删除
                    return this.items[this.items.length - 1]
                }
                isempty() {
                    return this.items.length == 0
                }
                clear() {
                    this.items = []
                }
                size() {
                    return this.items.length
                }
                getitems() {
                    return this.items
                }
            }
            let Newstack = new Stack()
            let add = document.getElementById("add")
            let pop = document.getElementById("pop")
            let clear = document.getElementById("clear")

            add.onclick = function () {
                Newitems.push(1)
                Newitems.push(2)
                Newitems.push(3)
                console.log(Newitems)
            }
            pop.onclick = function () {
                Newitems.pop()
                console.log(Newitems)
            }
            clear.onclick = function () {
                Newitems.clear()
                console.log(Newitems)
            }



            // 十进制转换为二进制
            class Data {
                constructor(data) {
                    this.data = data;
                    this.rem = null;
                    this.stack = new Stack();
                    this.stringnum = ''
                }
                change() {
                    while (this.data > 0) {   //这个while起到阻止后面代码执行的效果，它会不断循环，直到不再满足循环条件，才会执行打印那串代码
                        this.rem = this.data % 2;
                        this.stack.push(this.rem);
                        this.data = parseInt(this.data / 2)
                    }
                    console.log(this.stack.getitems())
                    while (!this.stack.isempty()) {
                        this.stringnum += this.stack.pop()   //将stack里面的元素倒过来存放到stringnum里面(在将stack最后的元素添加进stringnum的同时将其在stack中进行删除)
                    }
                    return this.stringnum
                }

            }
            let newchangedata = new Data(1314)
            console.log(newchangedata.change())


            // 十进制转换为任意进制
            class base{
                constructor(decNumber, base) {
                    this.decNumber = decNumber;
                    this.base = base;
                    this.remStack = new Stack();
                    this.rem=null;
                    this.baseString = '';
                    this.digits = '0123456789ABCDEF';  
                }
                baseConverter() {
                    while (this.decNumber > 0) {
                        this.rem = Math.floor(this.decNumber % this.base);
                        this.remStack.push(this.rem);
                        this.decNumber = Math.floor(this.decNumber / this.base);
                    }
                    while (!this.remStack.isempty()) {
                        this.baseString += this.digits[this.remStack.pop()]; //{7} 
                    }
                    return this.baseString;
                }
            }
            let Newbase1=new base(2020,16)
            let Newbase2=new base(3050,8)
            console.log(Newbase1.baseConverter())  //7E4
            console.log(Newbase2.baseConverter())  //5752
        }


    </script>
</body>

</html>